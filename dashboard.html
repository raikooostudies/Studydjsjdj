<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #000;
      color: #fff;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #111;
      padding: 10px 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .nav-links a {
      color: white;
      margin: 0 10px;
      text-decoration: none;
      font-weight: bold;
    }
    .avatar-container {
      position: relative;
      cursor: pointer;
    }
    .avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background-color: grey;
      display: inline-block;
    }
    .dropdown {
      display: none;
      position: absolute;
      right: 0;
      background-color: #222;
      border: 1px solid #444;
      padding: 10px;
      border-radius: 8px;
      min-width: 180px;
    }
    .dropdown p, .dropdown button {
      color: #fff;
      margin: 5px 0;
      font-size: 14px;
    }
    .dropdown button {
      background-color: #444;
      border: none;
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 5px;
    }
    .avatar-container:hover .dropdown {
      display: block;
    }

    main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 20px;
      padding: 20px;
    }

    section {
      background-color: #222;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px #111;
    }

    h2 {
      border-bottom: 1px solid #444;
      padding-bottom: 8px;
      margin-bottom: 15px;
      color: #eee;
    }

    /* Pomodoro */
    .timer-controls {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    button {
      padding: 8px 12px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    input[type="number"] {
      width: 60px;
      padding: 5px;
      background-color: #111;
      border: 1px solid #555;
      color: white;
      border-radius: 5px;
    }

    /* Sticky Notes */
    ul {
      list-style: none;
      padding: 0;
    }
    ul li {
      background-color: #333;
      margin: 5px 0;
      padding: 10px;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* Motivational quotes */
    #quote {
      font-style: italic;
      color: #ccc;
    }

  </style>
</head>
<body>

  <header>
    <div class="nav-links">
      <a href="index.html">Login</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="subjects.html">Subjects</a>
    </div>
    <div class="avatar-container">
      <div class="avatar"></div>
      <div class="dropdown">
        <p><strong>Name:</strong> <span id="userName">Loading...</span></p>
        <p><strong>Email:</strong> <span id="userEmail">Loading...</span></p>
        <button onclick="logout()">Logout</button>
      </div>
    </div>
  </header>

  <main>
    <!-- Pomodoro Timer -->
    <section>
      <h2>Pomodoro Timer</h2>
      <p><strong>Time Left:</strong> <span id="timer">25:00</span></p>
      <div class="timer-controls">
        <button onclick="startTimer()">Start</button>
        <button onclick="pauseTimer()">Pause</button>
        <button onclick="resetTimer()">Reset</button>
      </div>
      <div class="timer-controls">
        <label>Work: <input type="number" id="workTime" value="25"></label>
        <label>Break: <input type="number" id="breakTime" value="5"></label>
      </div>
    </section>

    <!-- Sticky Notes / To-Do -->
    <section>
      <h2>Sticky Notes</h2>
      <input type="text" id="taskInput" placeholder="Enter a task" />
      <button onclick="addTask()">Add</button>
      <ul id="taskList"></ul>
    </section>

    <!-- Motivational Quotes -->
    <section>
      <h2>Motivational Quote</h2>
      <p id="quote">Stay focused and never give up!</p>
    </section>
  </main>

  <script>
    // Pomodoro Timer
    let timer;
    let isRunning = false;
    let isWork = true;
    let timeLeft = 25 * 60;

    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      document.getElementById("timer").textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    function startTimer() {
      if (isRunning) return;
      isRunning = true;
      timer = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(timer);
          isWork = !isWork;
          const newTime = isWork
            ? parseInt(document.getElementById("workTime").value) * 60
            : parseInt(document.getElementById("breakTime").value) * 60;
          timeLeft = newTime;
          isRunning = false;
          startTimer();
        }
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(timer);
      isRunning = false;
    }

    function resetTimer() {
      pauseTimer();
      timeLeft = parseInt(document.getElementById("workTime").value) * 60;
      isWork = true;
      updateTimerDisplay();
    }

    updateTimerDisplay();

    // Sticky Notes
    function addTask() {
      const input = document.getElementById("taskInput");
      const taskText = input.value.trim();
      if (taskText === "") return;
      const li = document.createElement("li");
      li.textContent = taskText;
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "❌";
      removeBtn.onclick = () => li.remove();
      li.appendChild(removeBtn);
      document.getElementById("taskList").appendChild(li);
      input.value = "";
    }

    // Motivational Quotes
    const quotes = [
      "Push yourself, because no one else will.",
      "Believe in yourself and all that you are.",
      "Success doesn't come to you. You go to it.",
      "You are capable of amazing things.",
      "Stay focused and never give up.",
      "Discipline is doing it even when you don't feel like it."
    ];

    function rotateQuote() {
      const quoteBox = document.getElementById("quote");
      const randomIndex = Math.floor(Math.random() * quotes.length);
      quoteBox.textContent = quotes[randomIndex];
    }

    setInterval(rotateQuote, 30000); // every 30 seconds
    rotateQuote();

    // User Info Display
    const storedName = localStorage.getItem("userName") || "Guest";
    const storedEmail = localStorage.getItem("userEmail") || "guest@example.com";
    document.getElementById("userName").textContent = storedName;
    document.getElementById("userEmail").textContent = storedEmail;

    function logout() {
      localStorage.clear();
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
